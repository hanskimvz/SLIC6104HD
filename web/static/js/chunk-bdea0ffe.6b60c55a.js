(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdea0ffe"],{4381:function(e,t,s){"use strict";s("d3b7"),s("caad"),s("2532");var i=s("4360");function n(e,t){var s=t.value,n=i["a"].getters&&i["a"].getters.roles;if(!(s&&s instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(s.length>0){var a=s,r=n.some((function(e){return a.includes(e)}));r||e.parentNode&&e.parentNode.removeChild(e)}}var a={inserted:function(e,t){n(e,t)},update:function(e,t){n(e,t)}},r=function(e){e.directive("permission",a)};window.Vue&&(window["permission"]=a,Vue.use(r)),a.install=r;t["a"]=a},"6c1b":function(e,t,s){"use strict";s("d06a")},"76ef":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-row",{staticClass:"media-content"},[s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{key:"second",attrs:{name:"second"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-place"}),e._v(" "+e._s(e.$t("platform_settings.gb28181")))]),e.pages.second.istab?s("gb28181Settings"):e._e()],1)],1)],1)],1)},n=[],a=(s("b0c0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{attrs:{xl:{span:10,offset:6},lg:{span:12,offset:6},md:{span:16,offset:4},sm:{span:16,offset:4}}},[s("el-form",{ref:"28181_settings",attrs:{model:e.gb28181_settings,"label-width":"170px"}},[s("el-form-item",{attrs:{label:e.$t("gb28181_settings.enabled")}},[s("el-switch",{model:{value:e.gb28181_settings.enabled,callback:function(t){e.$set(e.gb28181_settings,"enabled",t)},expression:"gb28181_settings.enabled"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.gb28181_settings.enabled,expression:"gb28181_settings.enabled"}]},[s("el-form-item",{attrs:{label:e.$t("gb28181_settings.local_sip_port")}},[s("el-input-number",{model:{value:e.gb28181_settings.local_sip_port,callback:function(t){e.$set(e.gb28181_settings,"local_sip_port",t)},expression:"gb28181_settings.local_sip_port"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_server_id")}},[s("el-input",{model:{value:e.gb28181_settings.sip_server_id,callback:function(t){e.$set(e.gb28181_settings,"sip_server_id",t)},expression:"gb28181_settings.sip_server_id"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_server_domain")}},[s("el-input",{model:{value:e.gb28181_settings.sip_server_domain,callback:function(t){e.$set(e.gb28181_settings,"sip_server_domain",t)},expression:"gb28181_settings.sip_server_domain"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_server_ip")}},[s("el-input",{model:{value:e.gb28181_settings.sip_server_ip,callback:function(t){e.$set(e.gb28181_settings,"sip_server_ip",t)},expression:"gb28181_settings.sip_server_ip"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_server_port")}},[s("el-input-number",{model:{value:e.gb28181_settings.sip_server_port,callback:function(t){e.$set(e.gb28181_settings,"sip_server_port",t)},expression:"gb28181_settings.sip_server_port"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_username")}},[s("el-input",{model:{value:e.gb28181_settings.sip_username,callback:function(t){e.$set(e.gb28181_settings,"sip_username",t)},expression:"gb28181_settings.sip_username"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.sip_user_auth_id")}},[s("el-input",{model:{value:e.gb28181_settings.sip_user_auth_id,callback:function(t){e.$set(e.gb28181_settings,"sip_user_auth_id",t)},expression:"gb28181_settings.sip_user_auth_id"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.password")}},[s("el-input",{model:{value:e.gb28181_settings.password,callback:function(t){e.$set(e.gb28181_settings,"password",t)},expression:"gb28181_settings.password"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.password_confirm")}},[s("el-input",{model:{value:e.gb28181_settings.password_confirm,callback:function(t){e.$set(e.gb28181_settings,"password_confirm",t)},expression:"gb28181_settings.password_confirm"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.term_of_validity")}},[s("el-input-number",{model:{value:e.gb28181_settings.term_of_validity,callback:function(t){e.$set(e.gb28181_settings,"term_of_validity",t)},expression:"gb28181_settings.term_of_validity"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.heartbeat_cycle")}},[s("el-input-number",{model:{value:e.gb28181_settings.heartbeat_cycle,callback:function(t){e.$set(e.gb28181_settings,"heartbeat_cycle",t)},expression:"gb28181_settings.heartbeat_cycle"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.max_heartbeat_timeout")}},[s("el-input-number",{model:{value:e.gb28181_settings.max_heartbeat_timeout,callback:function(t){e.$set(e.gb28181_settings,"max_heartbeat_timeout",t)},expression:"gb28181_settings.max_heartbeat_timeout"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.stream_index")}},[s("el-select",{staticClass:"customer_row_title_sl",attrs:{placeholder:"please select"},model:{value:e.gb28181_settings.stream_index,callback:function(t){e.$set(e.gb28181_settings,"stream_index",t)},expression:"gb28181_settings.stream_index"}},e._l(e.stream_options,(function(t){return s("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.video_channel_code_id")}},[s("el-input",{model:{value:e.gb28181_settings.video_channel_code_id,callback:function(t){e.$set(e.gb28181_settings,"video_channel_code_id",t)},expression:"gb28181_settings.video_channel_code_id"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.audio_channel_code_id")}},[s("el-input",{model:{value:e.gb28181_settings.audio_channel_code_id,callback:function(t){e.$set(e.gb28181_settings,"audio_channel_code_id",t)},expression:"gb28181_settings.audio_channel_code_id"}})],1),s("el-form-item",{attrs:{label:e.$t("gb28181_settings.alarm_id")}},[s("el-input",{model:{value:e.gb28181_settings.alarm_id,callback:function(t){e.$set(e.gb28181_settings,"alarm_id",t)},expression:"gb28181_settings.alarm_id"}})],1),s("el-form-item",{attrs:{label:e.$t("wifi.status")}},[s("div",[e._v(" "+e._s(1===e.gb28181_settings.connect_status?e.$t("wifi.connected"):e.$t("wifi.not_connected"))+" ")])])],1),s("el-form-item",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}]},[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("button.save")))]),s("el-button",{on:{click:e.onRefresh}},[e._v(e._s(e.$t("button.refresh")))]),s("el-button",{attrs:{type:"warning"},on:{click:e.onDefault}},[e._v(e._s(e.$t("button.default")))])],1)],1)],1)}),r=[],o=(s("b64b"),s("e9c4"),s("4381")),l=s("ab10"),_=s("61f7"),c={directives:{permission:o["a"]},data:function(){return{gb28181_settings:{enabled:!1,local_sip_port:0,sip_server_id:"",sip_server_domain:"",sip_server_ip:"",sip_server_port:0,sip_username:"",sip_user_auth_id:"",password:"",password_confirm:"",term_of_validity:0,heartbeat_cycle:0,max_heartbeat_timeout:0,stream_index:0,video_channel_code_id:"",audio_channel_code_id:"",alarm_id:""},prev_data:null,stream_options:[{label:"video_codec.main_stream",value:0},{label:"video_codec.sub_stream",value:1}]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(l["b"])("gb28181").then((function(t){e.gb28181_settings=t.data.settings,window.console.log(e.gb28181_settings),e.prev_data=JSON.parse(JSON.stringify(e.gb28181_settings))}))},updateData:function(){var e=this;delete this.gb28181_settings.connect_status,Object(l["e"])({type:"gb28181",settings:this.gb28181_settings}).then((function(t){window.console.log("updated!"),e.isNeedRestart()&&Object(_["a"])(15)}))},isNeedRestart:function(){return this.gb28181_settings.enabled!==this.prev_data.enabled},onSubmit:function(){this.updateData()},onRefresh:function(){this.fetchData(),window.console.log("reload!")},onDefault:function(){var e=this;Object(l["b"])("gb28181_default").then((function(t){e.gb28181_settings=t.data.settings,window.console.log(e.gb28181_settings)}))}}},u=c,b=(s("fae4"),s("2877")),d=Object(b["a"])(u,a,r,!1,null,"a74cf274",null),g=d.exports,p={components:{gb28181Settings:g},data:function(){return{activeName:"second",pages:{first:{istab:!1,key:"first"},second:{istab:!0,key:"second"},third:{istab:!1,key:"third"},fourth:{istab:!1,key:"fourth"},fifth:{istab:!1,key:"fifth"},sixth:{istab:!1,key:"sixth"},eighth:{istab:!1,key:"eighth"},seventh:{istab:!1,key:"seventh"},ninth:{istab:!1,key:"ninth"},tenth:{istab:!1,key:"tenth"},eleventh:{istab:!1,key:"eleventh"}}}},created:function(){},mounted:function(){},methods:{handleClick:function(e){for(var t in this.pages)e.name!==t?this.pages[t]["istab"]=!1:this.pages[t]["istab"]=!0}}},m=p,f=(s("6c1b"),Object(b["a"])(m,i,n,!1,null,"2dfe5b5c",null));t["default"]=f.exports},"7f1b":function(e,t,s){},ab10:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"e",(function(){return a})),s.d(t,"a",(function(){return r})),s.d(t,"d",(function(){return o})),s.d(t,"c",(function(){return l}));var i=s("b775");function n(e){return Object(i["a"])({url:"/v1/network/settings",method:"get",params:{query:e}})}function a(e){return Object(i["a"])({url:"/v1/network/update",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/v1/network/ssids",method:"get",params:{query:e}})}function o(e){return Object(i["a"])({url:"/v1/network/sendUARTTestData",method:"post",data:e})}function l(){return Object(i["a"])({url:"/v1/network/recieveUARTTestData",method:"get"})}},d06a:function(e,t,s){},e9c4:function(e,t,s){var i=s("23e7"),n=s("d066"),a=s("d039"),r=n("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,c=function(e,t,s){var i=s.charAt(t-1),n=s.charAt(t+1);return l.test(e)&&!_.test(n)||_.test(e)&&!l.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},u=a((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&i({target:"JSON",stat:!0,forced:u},{stringify:function(e,t,s){var i=r.apply(null,arguments);return"string"==typeof i?i.replace(o,c):i}})},fae4:function(e,t,s){"use strict";s("7f1b")}}]);