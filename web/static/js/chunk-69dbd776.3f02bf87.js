(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69dbd776"],{4381:function(e,t,n){"use strict";n("d3b7"),n("caad"),n("2532");var a=n("4360");function s(e,t){var n=t.value,s=a["a"].getters&&a["a"].getters.roles;if(!(n&&n instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(n.length>0){var i=n,r=s.some((function(e){return i.includes(e)}));r||e.parentNode&&e.parentNode.removeChild(e)}}var i={inserted:function(e,t){s(e,t)},update:function(e,t){s(e,t)}},r=function(e){e.directive("permission",i)};window.Vue&&(window["permission"]=i,Vue.use(r)),i.install=r;t["a"]=i},"6d70":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"media-content"},[n("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{key:"first",attrs:{name:"first"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(e.$t("devices_maintenance.about_devices")))]),e.pages.first.istab?n("systemTime"):e._e()],1),n("el-tab-pane",{key:"third",attrs:{name:"third"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-switch-button"}),e._v(" "+e._s(e.$t("route.maintenance")))]),e.pages.third.istab?n("maintenance"):e._e()],1)],1)],1)],1)},s=[],i=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-card customer_boxhead mt20"},[n("el-form",{ref:"system_info",staticClass:"custom_form2 auto_wh",attrs:{model:e.system_info}},[n("el-col",{attrs:{xl:{span:10,offset:5},lg:{span:12,offset:6},md:{span:16,offset:4},sm:{span:16,offset:4}}},[n("el-form-item",{attrs:{label:e.$t("devices_maintenance.devices_name")}},[n("el-input",{model:{value:e.system_info.device_name,callback:function(t){e.$set(e.system_info,"device_name",t)},expression:"system_info.device_name"}})],1),n("el-form-item",{attrs:{label:e.$t("devices_maintenance.devices_time")}},[n("el-input",{attrs:{disabled:!0},model:{value:e.system_info.runtime,callback:function(t){e.$set(e.system_info,"runtime",t)},expression:"system_info.runtime"}})],1),n("el-form-item",{attrs:{label:e.$t("devices_maintenance.software_version")}},[n("el-input",{attrs:{disabled:!0},model:{value:e.system_info.software_version,callback:function(t){e.$set(e.system_info,"software_version",t)},expression:"system_info.software_version"}})],1),n("el-form-item",{attrs:{label:e.$t("devices_maintenance.firmware_version")}},[n("el-input",{attrs:{disabled:!0},model:{value:e.system_info.firmware_version,callback:function(t){e.$set(e.system_info,"firmware_version",t)},expression:"system_info.firmware_version"}})],1),n("div",{staticClass:"mt20"})],1)],1)],1)}),r=[],o=n("8593"),c=n("ed5f"),l={data:function(){return{system_info:{device_name:null,runtime:null,software_version:null,firmware_version:null}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(o["a"])("system_info").then((function(t){e.system_info=t.data.settings,e.system_info.runtime=Object(c["c"])(e.system_info.runtime),window.console.log(e.system_info)}))},updateData:function(){Object(o["d"])({type:"system_info",settings:this.system_info}).then((function(e){window.console.log("updated!")}))},onSubmit:function(){this.updateData()},onRefresh:function(){this.fetchData(),window.console.log("reload!")}}},m=l,u=(n("78ad"),n("2877")),d=Object(u["a"])(m,i,r,!1,null,"7cdbc740",null),f=d.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-card customer_boxhead mt20"},[n("el-form",{ref:"maintenance",staticClass:"custom_form2 auto_wh",attrs:{model:e.maintenance}},[n("el-col",{attrs:{xl:{span:12,offset:5},lg:{span:14,offset:5},md:{span:16,offset:4},sm:{span:16,offset:4}}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("route.maintenance")))]),n("el-form-item",{attrs:{label:e.$t("maintenance.enabled")}},[n("el-switch",{model:{value:e.maintenance.enabled,callback:function(t){e.$set(e.maintenance,"enabled",t)},expression:"maintenance.enabled"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.maintenance.enabled,expression:"maintenance.enabled"}]},[n("el-form-item",{attrs:{label:e.$t("maintenance.day")}},[n("el-select",{model:{value:e.maintenance.day,callback:function(t){e.$set(e.maintenance,"day",t)},expression:"maintenance.day"}},e._l(e.days,(function(t){return n("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:e.$t("maintenance.restart_time")}},[n("el-time-picker",{attrs:{"value-format":"HH:mm:ss"},model:{value:e.maintenance.restart_time,callback:function(t){e.$set(e.maintenance,"restart_time",t)},expression:"maintenance.restart_time"}})],1)],1),n("el-form-item",[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}],attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("button.save")))]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}],on:{click:e.onRefresh}},[e._v(e._s(e.$t("button.refresh")))]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}],attrs:{type:"warning"},on:{click:e.onDefault}},[e._v(e._s(e.$t("button.default")))])],1)],1),n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("button.restart")))]),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:e.onRestart}},[e._v(e._s(e.$t("button.restart")))])],1)],1),n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("button.restore_factory")))]),n("el-form-item",[n("el-popconfirm",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}],attrs:{title:e.$t("maintenance.restore")},on:{onConfirm:e.onRestore}},[n("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("button.restore_factory")))])],1)],1)],1)],1)],1)],1)},b=[],p=n("4381"),_={directives:{permission:p["a"]},data:function(){return{maintenance:{enabled:null,day:null,restart_time:null},days:[{label:"maintenance.sunday",value:1},{label:"maintenance.monday",value:2},{label:"maintenance.tuesday",value:4},{label:"maintenance.wednesday",value:8},{label:"maintenance.thursday",value:16},{label:"maintenance.friday",value:32},{label:"maintenance.saturday",value:64},{label:"maintenance.everyday",value:127}]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(o["a"])("maintenance").then((function(t){e.maintenance=t.data.settings,window.console.log("页面收到数据：%o",e.maintenance)}))},updateData:function(){Object(o["d"])({type:"maintenance",settings:this.maintenance}).then((function(e){window.console.log("updated!")}))},onSubmit:function(){this.updateData()},onRefresh:function(){this.fetchData(),window.console.log("reload!")},onDefault:function(){this.maintenance.enabled=!1,this.maintenance.day=1,this.maintenance.restart_time="02:00:00"},onRestart:function(){Object(o["b"])().then((function(e){window.console.log("IPC restart")})),this.$message({message:this.$t("maintenance.restarting"),type:"warning"})},onRestore:function(){Object(o["c"])().then((function(e){window.console.log("IPC restore")})),this.$message({message:this.$t("maintenance.restarting"),type:"warning"})}}},h=_,y=(n("8aeb"),Object(u["a"])(h,v,b,!1,null,"37602fe5",null)),w=y.exports,g={components:{systemTime:f,maintenance:w},data:function(){return{activeName:"first",pages:{first:{istab:!0,key:"first"},second:{istab:!1,key:"second"},third:{istab:!1,key:"third"}}}},methods:{handleClick:function(e){for(var t in this.pages)this.pages[t]["istab"]=e.name===t}}},$=g,k=(n("7840"),Object(u["a"])($,a,s,!1,null,"a008e5ba",null));t["default"]=k.exports},7840:function(e,t,n){"use strict";n("f3b7")},"78ad":function(e,t,n){"use strict";n("bea9")},8593:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=n("b775");function s(e){return Object(a["a"])({url:"/v1/system/settings",method:"get",params:{query:e}})}function i(e){return Object(a["a"])({url:"/v1/system/update",method:"post",data:e})}function r(){return Object(a["a"])({url:"/v1/system/restart",method:"post"})}function o(){return Object(a["a"])({url:"/v1/system/restore",method:"post"})}},"8aeb":function(e,t,n){"use strict";n("8f02")},"8f02":function(e,t,n){},bea9:function(e,t,n){},ed5f:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a=n("b775");function s(e){return Object(a["a"])({url:"/v1/warning/settings",method:"get",params:{query:e}})}function i(e){return Object(a["a"])({url:"/v1/warning/update",method:"post",data:e})}var r={SUN:1,MON:2,TUE:4,WED:8,THU:16,FRI:32,SAT:64,EVE:128};function o(e){var t=parseInt(e),n="00",a="00";return t>=60&&(n=Math.floor(t/60),t%=60,n>=60&&(a=Math.floor(n/60),n%=60)),c(a)+":"+c(n)+":"+c(t)}function c(e){return e>0?e<10&&(e="0"+e):e="00",e}},f3b7:function(e,t,n){}}]);