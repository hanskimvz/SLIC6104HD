(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af033966"],{"4bcd":function(e,t,a){},"4e3a":function(e,t,a){"use strict";a("4bcd")},"700d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"media-content"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{key:"second",attrs:{name:"second"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-bicycle"}),e._v(" "+e._s(e.$t("route.motion_detection")))]),e.pages.second.istab?a("motionDetection",{attrs:{view_options:e.view_options,record_time_options:e.record_time_options,pre_record_time_options:e.pre_record_time_options,capture_numbers_options:e.capture_numbers_options}}):e._e()],1),a("el-tab-pane",{key:"third",attrs:{name:"third"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-view"}),e._v(" "+e._s(e.$t("route.occlusion_detection")))]),e.pages.third.istab?a("occlusionDetection",{attrs:{view_options:e.view_options,record_time_options:e.record_time_options,pre_record_time_options:e.pre_record_time_options,capture_numbers_options:e.capture_numbers_options}}):e._e()],1),a("el-tab-pane",{key:"first",attrs:{name:"first"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "+e._s(e.$t("route.human_recognition")))]),e.pages.first.istab?a("humanRecognition",{attrs:{view_options:e.view_options,record_time_options:e.record_time_options,pre_record_time_options:e.pre_record_time_options,capture_numbers_options:e.capture_numbers_options}}):e._e()],1),a("el-tab-pane",{key:"fifth",attrs:{name:"fifth"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "+e._s(e.$t("notify.alarmIn")))]),e.pages.fifth.istab?a("AlarmIn",{attrs:{view_options:e.view_options,record_time_options:e.record_time_options,pre_record_time_options:e.pre_record_time_options,capture_numbers_options:e.capture_numbers_options}}):e._e()],1),a("el-tab-pane",{key:"fourth",attrs:{name:"fourth"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "+e._s(e.$t("route.notifies")))]),e.pages.fourth.istab?a("Notifies"):e._e()],1)],1)],1)],1)},o=[],i=(a("b0c0"),a("183a")),n=a("a70b"),s=a("c630"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index)+" ")]}}])}),a("el-table-column",{attrs:{label:e.$t("notify.type"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.$t(e.typeNames(t.row.type)))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:e.$t("notify.datetime"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",[e._v(e._s(e.utcSeconds2Datetime(t.row.datetime)))])]}}])})],1)],1)},c=[],_=a("b775");function m(e){return Object(_["a"])({url:"/v1/notify/list",method:"get",params:e})}var u={data:function(){return{list:null,listLoading:!0,timer:null}},created:function(){this.fetchData()},mounted:function(){var e=this;this.timer=window.setInterval((function(){e.fetchData()}),5e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},methods:{fetchData:function(){var e=this;this.listLoading=!0,m().then((function(t){e.list=t.data.items,e.listLoading=!1}))},typeNames:function(e){switch(e){case 0:return"notify.none";case 512:return"notify.motion";case 514:return"notify.anthropomorphic";case 1026:return"notify.occlusion";case 1280:return"notify.alarmIn";default:return""}},utcSeconds2Datetime:function(e){var t=new Date(0);return t.setUTCSeconds(e),t.toLocaleString()}}},d=u,p=a("2877"),b=Object(p["a"])(d,r,c,!1,null,null,null),f=b.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-card customer_boxhead"},[a("div",[a("el-switch",{attrs:{"inactive-text":e.$t("human_recognition.enabled")},model:{value:e.alarm_in.enabled,callback:function(t){e.$set(e.alarm_in,"enabled",t)},expression:"alarm_in.enabled"}})],1),e.alarm_in.enabled?a("div",[a("el-form",{staticClass:"custom_form2 ",attrs:{model:e.alarm_in,"label-width":"auto","label-position":"top"}},[a("el-row",{staticClass:"mt20",attrs:{gutter:40}},[a("el-col",{attrs:{sm:2}},[a("el-form-item",{attrs:{label:e.$t("human_recognition.flash_light")}},[a("el-switch",{model:{value:e.alarm_in.alarm_mode.flash_light,callback:function(t){e.$set(e.alarm_in.alarm_mode,"flash_light",t)},expression:"alarm_in.alarm_mode.flash_light"}})],1)],1),a("el-col",{attrs:{sm:2}},[a("el-form-item",{attrs:{label:e.$t("human_recognition.play_tone")}},[a("el-switch",{model:{value:e.alarm_in.alarm_mode.play_tone,callback:function(t){e.$set(e.alarm_in.alarm_mode,"play_tone",t)},expression:"alarm_in.alarm_mode.play_tone"}})],1)],1),a("el-col",{attrs:{sm:2}},[a("el-form-item",{attrs:{label:e.$t("motion_detection.signal_transfer")}},[a("el-switch",{model:{value:e.alarm_in.alarm_mode.alarm_output,callback:function(t){e.$set(e.alarm_in.alarm_mode,"alarm_output",t)},expression:"alarm_in.alarm_mode.alarm_output"}})],1)],1),a("el-col",{attrs:{sm:3}},[a("el-form-item",{attrs:{label:e.$t("motion_detection.Video_stream")}},[a("el-select",{staticClass:"customer_row_title_sl",attrs:{placeholder:"please select",size:"small"},model:{value:e.alarm_in.alarm_mode.record_stream,callback:function(t){e.$set(e.alarm_in.alarm_mode,"record_stream",t)},expression:"alarm_in.alarm_mode.record_stream"}},e._l(e.view_options,(function(t){return a("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1)],1),a("el-col",{attrs:{sm:3}},[a("el-form-item",{attrs:{label:e.$t("motion_detection.recording_recording")}},[a("el-select",{staticClass:"customer_row_title_sl",attrs:{placeholder:"please select",size:"small"},model:{value:e.alarm_in.alarm_mode.pre_record_time,callback:function(t){e.$set(e.alarm_in.alarm_mode,"pre_record_time",t)},expression:"alarm_in.alarm_mode.pre_record_time"}},e._l(e.pre_record_time_options,(function(t){return a("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1)],1),a("el-col",{attrs:{sm:3}},[a("el-form-item",{attrs:{label:e.$t("motion_detection.Recording_duration")}},[a("el-select",{staticClass:"customer_row_title_sl",attrs:{placeholder:"please select",size:"small"},model:{value:e.alarm_in.alarm_mode.record_time,callback:function(t){e.$set(e.alarm_in.alarm_mode,"record_time",t)},expression:"alarm_in.alarm_mode.record_time"}},e._l(e.record_time_options,(function(t){return a("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1)],1),a("el-col",{attrs:{sm:3}},[a("el-form-item",{attrs:{label:e.$t("motion_detection.Number_snaps")}},[a("el-select",{staticClass:"customer_row_title_sl",attrs:{placeholder:"please select",size:"small"},model:{value:e.alarm_in.alarm_mode.capture_numbers,callback:function(t){e.$set(e.alarm_in.alarm_mode,"capture_numbers",t)},expression:"alarm_in.alarm_mode.capture_numbers"}},e._l(e.capture_numbers_options,(function(t){return a("el-option",{key:t.value,attrs:{label:e.$t(t.label),value:t.value}})})),1)],1)],1)],1)],1)],1):e._e(),a("el-divider"),a("div",{directives:[{name:"permission",rawName:"v-permission",value:["admin","operator"],expression:"['admin', 'operator']"}],staticClass:"mt20",attrs:{align:"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("button.save")))]),a("el-button",{on:{click:e.onRefresh}},[e._v(e._s(e.$t("button.refresh")))]),a("el-button",{attrs:{type:"warning"},on:{click:e.onDefault}},[e._v(e._s(e.$t("button.default")))])],1)],1)},h=[],g=(a("e9c4"),a("b64b"),a("4381")),w=a("ed5f"),y=a("61f7"),k={props:["view_options","record_time_options","pre_record_time_options","capture_numbers_options"],directives:{permission:g["a"]},data:function(){return{alarm_in:{enabled:!0,alarm_mode:{flash_light:!1,play_tone:!1,alarm_output:!1,capture_numbers:0,record_stream:0,pre_record_time:0,record_time:0}},prev_data:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(w["b"])("alarm_in").then((function(t){e.alarm_in=t.data.settings,window.console.log(e.alarm_in),e.prev_data=JSON.parse(JSON.stringify(e.alarm_in))}))},updateData:function(){var e=this;Object(w["d"])({type:"alarm_in",settings:this.alarm_in}).then((function(t){window.console.log("updated!"),e.isNeedRestart()&&Object(y["a"])(15)}))},isNeedRestart:function(){return this.alarm_in.enabled!==this.prev_data.enabled},onSubmit:function(){this.updateData()},onRefresh:function(){this.fetchData(),window.console.log("reload!")},onDefault:function(){var e=this;Object(w["b"])("alarm_in_default").then((function(t){e.alarm_in=t.data.settings,window.console.log(e.alarm_in)}))}}},$=k,x=(a("4e3a"),Object(p["a"])($,v,h,!1,null,"8b83f3ba",null)),C=x.exports,D={components:{humanRecognition:s["a"],motionDetection:i["a"],occlusionDetection:n["a"],Notifies:f,AlarmIn:C},data:function(){return{activeName:"second",pages:{first:{istab:!1,key:"first"},second:{istab:!0,key:"second"},third:{istab:!1,key:"third"},fourth:{istab:!1,key:"fourth"},fifth:{istab:!1,key:"fifth"},sixth:{istab:!1,key:"sixth"},eighth:{istab:!1,key:"eighth"},seventh:{istab:!1,key:"seventh"},ninth:{istab:!1,key:"ninth"},tenth:{istab:!1,key:"tenth"},eleventh:{istab:!1,key:"eleventh"}},view_options:[{label:"video_codec.main_stream",value:0},{label:"video_codec.sub_stream",value:1}],capture_numbers_options:[{label:"tagsView.close",value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8}]}},computed:{pre_record_time_options:function(){var e=this.$t("tagsView.second");return[{label:this.$t("tagsView.close"),value:0},{label:"1"+e,value:1},{label:"2"+e,value:2},{label:"3"+e,value:3},{label:"4"+e,value:4},{label:"5"+e,value:5},{label:"6"+e,value:6}]},record_time_options:function(){var e=this.$t("tagsView.second");return[{label:this.$t("tagsView.close"),value:0},{label:"10"+e,value:10},{label:"30"+e,value:30},{label:"60"+e,value:60},{label:"120"+e,value:120},{label:"240"+e,value:240},{label:"360"+e,value:360}]}},methods:{handleClick:function(e){for(var t in this.pages)this.pages[t]["istab"]=e.name===t}}},N=D,S=(a("dacd"),Object(p["a"])(N,l,o,!1,null,"fd41258c",null));t["default"]=S.exports},a78f:function(e,t,a){},dacd:function(e,t,a){"use strict";a("a78f")}}]);